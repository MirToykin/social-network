{"version":3,"sources":["components/common/Pagination/PaginationMUI.jsx","components/Users/User/UserCard.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.js"],"names":["useStyles","makeStyles","theme","root","marginTop","spacing","ul","justifyContent","StyledPagination","withStyles","Pagination","PaginationControlled","totalCount","pageSize","currentPage","handlePageNumClick","classes","count","Math","ceil","className","siblingCount","page","onChange","inline","display","avatar","width","height","listItemText","marginLeft","UserCard","followed","isFollowingInProgress","unfollow","follow","id","smallPhoto","name","status","useState","anchorEl","setAncorEl","open","Boolean","handleUserClose","ListItem","alignItems","ListItemAvatar","IconButton","edge","menuButton","onClick","event","currentTarget","Avatar","src","userPhoto","alt","anchorOrigin","vertical","horizontal","onClose","MenuItem","disabled","some","handleUnfollow","handleFollow","component","NavLink","to","ListItemText","primary","Typography","color","secondary","Users","props","list","backgroundColor","palette","background","paper","borderRadius","grid","marginBottom","usersContainer","totalUsersCount","Grid","container","justify","item","xs","sm","md","Paper","List","isFetching","Preloader","users","map","u","i","key","photos","small","toggleIsFollowingInProgress","length","Divider","variant","Hidden","xsDown","align","getUsersData","state","usersData","getTotalUsersCount","getPageSize","getCurrentPage","getIsUsersFetching","getIsFollowingInProgress","UsersContainer","this","requestUsersData","React","Component","compose","connect","dispatch"],"mappings":"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","file":"static/js/5.e71a27cf.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport {withStyles} from \"@material-ui/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > * + *': {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n    ul: {\r\n      justifyContent: 'center'\r\n    }\r\n  }\r\n}));\r\n\r\nconst StyledPagination = withStyles({\r\n  ul: {\r\n    justifyContent: 'center'\r\n  },\r\n\r\n})(Pagination);\r\n\r\nexport default function PaginationControlled({totalCount, pageSize, currentPage, handlePageNumClick}) {\r\n  const classes = useStyles();\r\n  const count = Math.ceil(totalCount/pageSize);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <StyledPagination siblingCount={5} count={count} page={currentPage} onChange={handlePageNumClick} />\r\n    </div>\r\n  );\r\n}","import React, {useState} from 'react';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport userPhoto from \"../../../assets/imgs/user.png\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n  avatar: {\r\n    width: theme.spacing(9),\r\n    height: theme.spacing(9),\r\n  },\r\n  listItemText: {\r\n    marginLeft: theme.spacing(3)\r\n  }\r\n}));\r\n\r\nexport default function UserCard({\r\n                                   followed,\r\n                                   isFollowingInProgress,\r\n                                   unfollow, follow, id,\r\n                                   smallPhoto, name, status\r\n                                 }) {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAncorEl] = useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleUser = (event) => {\r\n    setAncorEl(event.currentTarget)\r\n  }\r\n\r\n  const handleUserClose = () => {\r\n    setAncorEl(null);\r\n  }\r\n\r\n  const handleFollow = (id) => {\r\n    follow(id);\r\n    handleUserClose();\r\n  }\r\n\r\n  const handleUnfollow = (id) => {\r\n    unfollow(id);\r\n    handleUserClose();\r\n  }\r\n\r\n  return (\r\n    <ListItem alignItems=\"center\">\r\n      <ListItemAvatar>\r\n        <IconButton\r\n          edge=\"end\"\r\n          className={classes.menuButton}\r\n          onClick={handleUser}\r\n        >\r\n          <Avatar src={smallPhoto ? smallPhoto : userPhoto}\r\n                  alt={name}\r\n                  className={classes.avatar}\r\n          />\r\n        </IconButton>\r\n        <Menu\r\n          anchorEl={anchorEl} // элемент рядом с которым будет отображено меню\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n          }}\r\n          open={open}\r\n          onClose={handleUserClose}\r\n        >\r\n          {followed ?\r\n            <MenuItem disabled={isFollowingInProgress.some((id) => id === id)}\r\n                      onClick={() => handleUnfollow(id)}>Unfollow</MenuItem> :\r\n            <MenuItem disabled={isFollowingInProgress.some((id) => id === id)}\r\n                      onClick={() => handleFollow(id)}>Follow</MenuItem>\r\n          }\r\n          <MenuItem onClick={handleUserClose}\r\n                    component={NavLink}\r\n                    to={`/profile/${id}`}\r\n          >Go to account</MenuItem>\r\n\r\n        </Menu>\r\n      </ListItemAvatar>\r\n      <ListItemText\r\n        className={classes.listItemText}\r\n        primary={<Typography color='primary'>{name}</Typography>}\r\n        secondary={<Typography color='textPrimary'>{status ? status : 'No status'}</Typography>}\r\n      />\r\n    </ListItem>\r\n  );\r\n}\r\n","import React, {Fragment} from \"react\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport PaginationControlled from \"../common/Pagination/PaginationMUI\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport UserCard from \"./User/UserCard\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {Hidden} from \"@material-ui/core\";\r\n\r\nconst Users = (props) => {\r\n  const useStyles = makeStyles((theme) => ({\r\n    list: {\r\n      width: '100%',\r\n      backgroundColor: theme.palette.background.paper,\r\n      borderRadius: 4\r\n    },\r\n    inline: {\r\n      display: 'inline',\r\n    },\r\n    grid: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2)\r\n    }\r\n  }));\r\n\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.usersContainer}>\r\n        <PaginationControlled\r\n          totalCount={props.totalUsersCount}\r\n          pageSize={props.pageSize}\r\n          currentPage={props.currentPage}\r\n          handlePageNumClick={props.handlePageNumClick}\r\n        />\r\n      <Grid container justify=\"center\" spacing={3} className={classes.grid}>\r\n        <Grid item xs={12} sm={6} md={5}>\r\n          <Paper>\r\n            <List className={classes.list}>\r\n              {props.isFetching ? <Preloader/> : null}\r\n              {props.users.map((u, i) => {\r\n                return <Fragment key={u.id}>\r\n                  <UserCard\r\n                    id={u.id}\r\n                    status={u.status}\r\n                    name={u.name}\r\n                    smallPhoto={u.photos.small}\r\n                    followed={u.followed}\r\n                    status={u.status}\r\n                    follow={props.follow}\r\n                    unfollow={props.unfollow}\r\n                    isFollowingInProgress={props.isFollowingInProgress}\r\n                    toggleIsFollowingInProgress={props.toggleIsFollowingInProgress}\r\n                  />\r\n                  {i !== props.users.length - 1 && <Divider variant=\"middle\" component=\"li\"/>}\r\n                </Fragment>\r\n              })}\r\n            </List>\r\n          </Paper>\r\n        </Grid>\r\n        <Hidden xsDown>\r\n          <Grid item sm={6} md={7}>\r\n            <Paper><Typography variant='h6' color='secondary' align=\"center\">Some content</Typography></Paper>\r\n          </Grid>\r\n        </Hidden>\r\n      </Grid>\r\n      <PaginationControlled\r\n        totalCount={props.totalUsersCount}\r\n        pageSize={props.pageSize}\r\n        currentPage={props.currentPage}\r\n        handlePageNumClick={props.handlePageNumClick}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users","export const getUsersData = state => {\r\n  return state.users.usersData;\r\n}\r\n\r\nexport const getTotalUsersCount = state => {\r\n  return state.users.totalUsersCount;\r\n}\r\n\r\nexport const getPageSize = state => {\r\n  return state.users.pageSize;\r\n}\r\n\r\nexport const getCurrentPage = state => {\r\n  return state.users.currentPage;\r\n}\r\n\r\nexport const getIsUsersFetching = state => {\r\n  return state.users.isFetching;\r\n}\r\n\r\nexport const getIsFollowingInProgress = state => {\r\n  return state.users.isFollowingInProgress;\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {follow, requestUsersData, unfollow} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n  getCurrentPage, getIsFollowingInProgress,\r\n  getIsUsersFetching,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsersData\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.requestUsersData(this.props.pageSize, this.props.currentPage);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Users\r\n        totalUsersCount={this.props.totalUsersCount}\r\n        pageSize={this.props.pageSize}\r\n        currentPage={this.props.currentPage}\r\n        users={this.props.users}\r\n        follow={this.props.follow}\r\n        unfollow={this.props.unfollow}\r\n        handlePageNumClick={this.props.requestUsersData}\r\n        isFetching={this.props.isFetching}\r\n        isFollowingInProgress={this.props.isFollowingInProgress}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsersData(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    pageSize: getPageSize(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsUsersFetching(state),\r\n    isFollowingInProgress: getIsFollowingInProgress(state)\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    follow: (id) => {dispatch(follow(id))},\r\n    unfollow: (id) => dispatch(unfollow((id))),\r\n    requestUsersData: (pageSize, currentPage) => dispatch(requestUsersData(pageSize, currentPage))\r\n  }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(UsersContainer)"],"sourceRoot":""}